# WebView Integration –¥–ª—è Til Bil App

## –û–±–∑–æ—Ä

–í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Til Bil App –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã WebView —ç–∫—Ä–∞–Ω—ã –¥–ª—è —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ–∫—Ü–∏–π –æ–±—É—á–µ–Ω–∏—è:

1. **–°”©–∑–¥—ñ–∫“õ–æ—Ä (–°–ª–æ–≤–∞—Ä—å)** - `VocabularyWebViewScreen`
2. **–¢—Ä–µ–Ω–∞–∂–µ—Ä** - `TrainerWebViewScreen`  
3. **–í–∏–¥–µ–æ —Å–∞–±–∞“õ—Ç–∞—Ä (–£—Ä–æ–∫–∏)** - `LessonWebViewScreen`

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lib/
‚îú‚îÄ‚îÄ screens/
‚îÇ   ‚îî‚îÄ‚îÄ lesson_detail/
‚îÇ       ‚îú‚îÄ‚îÄ lesson_detail_screen.dart          # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —É—Ä–æ–∫–∞
‚îÇ       ‚îú‚îÄ‚îÄ vocabulary_webview_screen.dart     # WebView —Å–ª–æ–≤–∞—Ä—è
‚îÇ       ‚îú‚îÄ‚îÄ trainer_webview_screen.dart        # WebView —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ lesson_webview_screen.dart         # WebView –≤–∏–¥–µ–æ —É—Ä–æ–∫–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ vocabulary_screen.dart             # –û—Ñ–ª–∞–π–Ω —Å–ª–æ–≤–∞—Ä—å
‚îî‚îÄ‚îÄ models/
    ‚îî‚îÄ‚îÄ lesson_topic.dart                      # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å WebView —ç–∫—Ä–∞–Ω–æ–≤

### –û–±—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è (–≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- ‚úÖ –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- ‚úÖ –ú–µ–Ω—é —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–ø—Ü–∏—è–º–∏

### VocabularyWebViewScreen
- üîç –ü–æ–∏—Å–∫ —Å–ª–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- üìö –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ–º—ã
- üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: #4ECDC4 (–±–∏—Ä—é–∑–æ–≤—ã–π)

### TrainerWebViewScreen  
- üí™ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- üéØ –¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: #FF6B6B (–∫—Ä–∞—Å–Ω—ã–π)

### LessonWebViewScreen
- üé• –í–∏–¥–µ–æ —É—Ä–æ–∫–∏
- üñ•Ô∏è –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –≤–∏–¥–µ–æ
- üé® –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞: #4DABF7 (–≥–æ–ª—É–±–æ–π)

## URL Mapping

–ö–∞–∂–¥–∞—è —Ç–µ–º–∞ —É—Ä–æ–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ URL:

```dart
final topicMap = {
  '–°”ô–ª–µ–º, —Ç–∞–Ω—ã—Å–∞–π—ã“õ': 'https://tilqural.kz/lesson/1/[section]',
  '–ú–µ–Ω—ñ“£ –æ—Ç–±–∞—Å—ã–º': 'https://tilqural.kz/lesson/2/[section]',
  '–ñ–∞—Å—ã“£ –Ω–µ—à–µ–¥–µ': 'https://tilqural.kz/lesson/3/[section]',
  // ... –∏ —Ç.–¥.
};
```

–ì–¥–µ `[section]` –º–æ–∂–µ—Ç –±—ã—Ç—å:
- `vocabulary` - –¥–ª—è —Å–ª–æ–≤–∞—Ä—è
- `trainer` - –¥–ª—è —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞  
- `video` - –¥–ª—è –≤–∏–¥–µ–æ —É—Ä–æ–∫–æ–≤

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏

### –ò–∑ LessonDetailScreen:

1. **–°”©–∑–¥—ñ–∫“õ–æ—Ä** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Bottom Sheet —Å –≤—ã–±–æ—Ä–æ–º:
   - –û—Ñ–ª–∞–π–Ω —Å”©–∑–¥—ñ–∫“õ–æ—Ä (VocabularyScreen)
   - –û–Ω–ª–∞–π–Ω —Å”©–∑–¥—ñ–∫“õ–æ—Ä (VocabularyWebViewScreen)

2. **–¢—Ä–µ–Ω–∞–∂–µ—Ä** - –ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ TrainerWebViewScreen

3. **–°–∞–±–∞“õ** - –ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ LessonWebViewScreen

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```yaml
dependencies:
  webview_flutter: ^4.4.2
```

### Android —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
```xml
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Android:
```xml
android:usesCleartextTraffic="true"
android:hardwareAccelerated="true"
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–í—Å–µ WebView —ç–∫—Ä–∞–Ω—ã –≤–∫–ª—é—á–∞—é—Ç:

- ‚ö†Ô∏è –≠–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
- üîÑ –ö–Ω–æ–ø–∫–∞ "“ö–∞–π—Ç–∞ –∂“Ø–∫—Ç–µ—É" –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏
- üì∂ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- üé® –ö—Ä–∞—Å–∏–≤—ã–π UI –¥–ª—è –æ—à–∏–±–æ–∫ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∏–∫–æ–Ω–∫–∞–º–∏

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏:
```dart
bool _isLoading = true;        // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
String? _errorMessage;         // –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
```

### WebView –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:
```dart
late final WebViewController _controller;

_controller = WebViewController()
  ..setJavaScriptMode(JavaScriptMode.unrestricted)
  ..setBackgroundColor(const Color(0x00000000))
  ..setNavigationDelegate(NavigationDelegate(...))
  ..loadRequest(Uri.parse(url));
```

### –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
- üîô –ê—Ä—Ç“õ–∞ (–ù–∞–∑–∞–¥)
- üîú –ê–ª“ì–∞ (–í–ø–µ—Ä–µ–¥)  
- üîÑ –ñ–∞“£–∞—Ä—Ç—É (–û–±–Ω–æ–≤–∏—Ç—å)
- üè† –ë–∞—Å—Ç—ã (–ì–ª–∞–≤–Ω–∞—è)
- üîç –Ü–∑–¥–µ—É (–ü–æ–∏—Å–∫) - —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ª–æ–≤–∞—Ä—è
- üñ•Ô∏è –¢–æ–ª—ã“õ —ç–∫—Ä–∞–Ω (–ü–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω) - —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–¥–µ–æ

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–í–µ—Å—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ –∫–∞–∑–∞—Ö—Å–∫–∏–π —è–∑—ã–∫:
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –∫–Ω–æ–ø–∫–∏
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- –≠–ª–µ–º–µ–Ω—Ç—ã –º–µ–Ω—é

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚ö° Lazy loading WebView –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
- üéØ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- üíæ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–∞
- üîß –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WebView —ç–∫—Ä–∞–Ω–æ–≤:

1. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL tilqural.kz
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–∞—Ö —ç–∫—Ä–∞–Ω–æ–≤
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–≤–æ—Ä–æ—Ç —ç–∫—Ä–∞–Ω–∞
5. –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: WebView –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ URL

### –ü—Ä–æ–±–ª–µ–º–∞: JavaScript –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `setJavaScriptMode(JavaScriptMode.unrestricted)`

### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–µ–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `android:hardwareAccelerated="true"`

### –ü—Ä–æ–±–ª–µ–º–∞: HTTPS mixed content
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `android:usesCleartextTraffic="true"`

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞
- üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üìà –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è
- üîî Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö
- üéµ –ê—É–¥–∏–æ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ —Å–ª–æ–≤
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è